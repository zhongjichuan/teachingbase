<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta name="renderer" content="webkit|ie-comp|ie-stand">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<link rel="Bookmark" th:href="@{/favicon.ico}" >
	<link rel="shortcut icon" th:href="@{/favicon.ico}"/>
	<link rel="bookmark" th:href="@{/favicon.ico}"/>
	<link rel="Shortcut Icon" th:href="@{/favicon.ico}" />
	<!--[if lt IE 9]>
	<script type="text/javascript" src="/lib/html5.js"></script>
	<script type="text/javascript" src="/lib/respond.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" type="text/css" href="/static/h-ui/css/H-ui.min.css" />
	<link rel="stylesheet" type="text/css" href="/static/h-ui.admin/css/H-ui.admin.css" />
	<link rel="stylesheet" type="text/css" href="/lib/Hui-iconfont/1.0.8/iconfont.css" />

	<link rel="stylesheet" type="text/css" href="/static/h-ui.admin/skin/default/skin.css" id="skin" />
	<link rel="stylesheet" type="text/css" href="/static/h-ui.admin/css/style.css" />
	<!--[if IE 6]>
	<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
	<script>DD_belatedPNG.fix('*');</script><![endif]-->
	<!--/meta 作为公共模版分离出去-->
	<title>创建基地</title>

</head>
<body>
<!--_header 作为公共模版分离出去-->
<div th:replace="common/header::header"></div>
<!--_menu 作为公共模版分离出去-->
<div th:replace="common/menu::menu"></div>

<section class="Hui-article-box">
	<nav class="breadcrumb"><i class="Hui-iconfont"></i> <a href="/index" class="maincolor">首页</a>
		<span class="c-999 en">&gt;</span><span class="c-666">基地中心</span>
		<span class="c-999 en">&gt;</span><span class="maincolor"><a class="c-666" href="/company/baseManage">基地管理</a></span>
		<span class="c-999 en">&gt;</span><span class="c-666">创建基地</span>
	</nav>
	<div class="Hui-article">
		<article class="cl pd-20">
			<div class="panel panel-default">
				<div class="panel-header">创建基地</div>
				<div class="panel-body text-c">
					<form class="form form-horizontal" th:action="@{/company/saveBase}" id="addBaseForm">
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2">&nbsp;&nbsp;基地编号：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius"  placeholder="" th:value="${baseId}" disabled="disabled">
								<input type="hidden"  name="baseId" th:value="${baseId}">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;基地名称：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius"  placeholder=""  name="baseName">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2">&nbsp;&nbsp;实训老师：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<span class="select-box mr-5 radius col-sm-5">
									<select class="select "  name="teacherId">
										<option value="" selected>选择老师</option>
										<option th:each="teacher:${teachers}" th:value ="${teacher.teacherId}" th:text="${teacher.teacherName}"></option>
									</select>
								</span>
							</div>
						</div>
                        <div class="row cl">
							<label class="form-label col-xs-4 col-sm-2">&nbsp;&nbsp;选择学院：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<span class="select-box mr-5 radius col-sm-5">
									<select class="select "  name="collegeId">
										<option value="" selected>选择学院</option>
										<option th:each="college:${collegeList}" th:value ="${college.collegeId}" th:text="${college.collegeName}"></option>
									</select>
								</span>
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;基地人数：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius"  placeholder="" name="baseNum">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;基地描述：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius"  placeholder="" name="baseDescription">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2">基地所属公司：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius" id="companyName" name="companyName" th:value="${companyName}" disabled="disabled">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;报到地址：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="text" class="input-text radius"  placeholder="" name="baseAddress">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;报到时间：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<input type="datetime-local" class="input-text radius"  placeholder="" name="baseReportDate">
							</div>
						</div>
						<div class="row cl">
							<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>&nbsp;&nbsp;是否启用：</label>
							<div class="formControls col-xs-8 col-sm-5">
								<div class="switch f-l" data-on="success" data-off="danger" data-on-label="启用" data-off-label="停用">
									<input type="checkbox" checked name="baseStatus" value="1"/>
								</div>
							</div>
						</div>
						<div class="row cl">
							<div class="col-xs-8 col-sm-5 col-xs-offset-1">
								<button class="btn btn-primary radius" type="submit"><i class="Hui-iconfont">&#xe632;</i> 创建</button>
								<a class="btn btn-default radius" th:href="@{/company/baseManage}">&nbsp;&nbsp;取消&nbsp;&nbsp;</a>
							</div>
						</div>
					</form>
				</div>
			</div>

		</article>
	</div>
</section>

<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript">

	$(function () {

		$("#addBaseForm").submit(function () {
			if ($("#addBaseForm").valid()) {
				var params = $('#addBaseForm').serializeArray();
				$.ajax({
					type: "POST",
					data: params,
					url: "/company/saveBase",
					dataType: "json",
					success: function (data) {
						if (data) {
							layer.msg("创建成功");
						} else {
							layer.msg("创建失败");
						}
						setTimeout('window.location.href="/company/baseManage"', 1000);
					}
				});
			}
			return false;//实现页面不刷新
		});

	});


	$(function () {
		$("#addBaseForm").validate({
			rules:{
				baseName:{
					required: true
				},
				baseNum:{
					required: true,
					digits: true//只能填整数
				},
				baseDescription:{
					required: true
				},
				baseAddress:{
					required: true
				},
				collegeId:{
					required: true
				},
				baseReportDate:{
					required: true
				}
			},
			messages:{
				baseName:{
					required: "请填写基地名称"
				},
				baseNum:{
					required: "请填写基地所招收人数",
					digits: "只能填整数"
				},
				baseDescription:{
					required: "请填写基地描述"
				},
				baseAddress:{
					required: "请填写报到地址"
				},
				collegeId:{
					required: "请选择学院"
				},
				baseReportDate:{
					required: "请选择日期"
				}
			}
		});
	});



</script>
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>
